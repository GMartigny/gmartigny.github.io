
function MessageBus(){this.observers=[]}MessageBus.prototype={observe:function(a,b){if(!this.observers[b]){this.observers[b]=[]}this.observers[b].push(a)},notifyAll:function(c,d){if(this.observers[c]){for(var b=0,a=this.observers[c].length;b<a;++b){this.observers[c][b].notify(d)}}}};MessageBus.instance=false;MessageBus.getInstance=function(){if(!MessageBus.instance){MessageBus.instance=new MessageBus()}return MessageBus.instance};MessageBus.MSG_TYPES={CLICK:1,REFRESH:2,GIVE:3,UNLOCK:4,LOCK:5,BUILD:6};