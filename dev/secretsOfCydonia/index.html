<html>
    <head>
        <title>Secret of Cydonia</title>
        <link rel="stylesheet" href="style.min.css"/>
        <script src="../../res/js/gameLib.min.js"></script>
        <script src="../../res/js/fps.min.js"></script>
    </head>
    <body>
        <div id="c">
            <canvas id="ground" width="800" height="608"></canvas>
            <canvas id="under" width="800" height="608"></canvas>
            <canvas id="block" width="800" height="608"></canvas>
            <canvas id="entities" width="800" height="608"></canvas>
            <canvas id="player" width="800" height="608"></canvas>
            <canvas id="over" width="800" height="608"></canvas>
            <canvas id="overlay" width="800" height="608"></canvas>
            <div id="loading"><img src="res/loader.gif" alt="Loading"/></div>
        </div>
    <script>
        var dev = true,
            version = "0.1.5",
            ext = (dev? ".js": ".min.js")+"?v="+version,
            loader = getById("loading"),
            media = loadMedia([
                {src: "js/Game"+ext, weight: 1},
                {src: "js/Player"+ext, weight: 1},
                {src: "js/Map"+ext, weight: 1},
                {src: "js/View"+ext, weight: 1},
                {src: "js/Entity"+ext, weight: 1},
                {src: "js/Keyboard"+ext, weight: 1},
                {src: "res/perso.png"+"?v="+version, weight: 2.5, name:"player"},
                {src: "res/tiles.png"+"?v="+version, weight: 7.7, name: "tiles"},
                {src: "res/match.png"+"?v="+version, weight: 1, name: "match"},
                {src: "res/links.json"+"?v="+version, weight: 1, name: "links"}
            ], function(r){
                if(100 <= r){
                    new GameController(media);
                    loader.style.display = "none";
                }
                else{
                    // update loading
                }
            }
        );
    </script>
    </body>
</html>