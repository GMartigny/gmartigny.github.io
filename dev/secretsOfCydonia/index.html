<html>
    <head>
        <title>Secret of Cydonia</title>
        <script src="../../res/js/gameLib.min.js"></script>
        <script src="../../res/js/fps.min.js"></script>
        <style>
            body{
                background : #888;
                margin : 0;
            }
            #c{
                position : relative;
                background : url(res/title.png) no-repeat 50% 50%;
                width : 100%;
                height : 608px;
                margin: 0 auto;
            }
            #c canvas{
                position : absolute;
                left: 0;
                right: 0;
                margin: 0 auto;
            }

            #loading{
                position: relative;
                top: 445px;
                left: 400px;
            }
        </style>
    </head>
    <body>
        <div id="c">
            <canvas id="ground"></canvas>
            <canvas id="under"></canvas>
            <canvas id="block"></canvas>
            <canvas id="entities"></canvas>
            <canvas id="player"></canvas>
            <canvas id="over"></canvas>
            <canvas id="overlay"></canvas>
            <div id="loading"><img src="res/loader.gif" alt="Loading"/></div>
        </div>
    <script>
        var dev = true;
        var media = loadMedia([
                {src: "js/Game"+(dev? ".js": ".min.js"), weight: 1},
                {src: "js/Player"+(dev? ".js": ".min.js"), weight: 1},
                {src: "js/Map"+(dev? ".js": ".min.js"), weight: 1},
                {src: "js/View"+(dev? ".js": ".min.js"), weight: 1},
                {src: "js/Entity"+(dev? ".js": ".min.js"), weight: 1},
                {src: "js/Keyboard"+(dev? ".js": ".min.js"), weight: 1},
                {src: "res/perso.png", weight: 2.5, name:"player"},
                {src: "res/entities.png", weight: 1, name:"entities"},
                {src: "res/tiles.png", weight: 7.7, name: "tiles"},
                {src: "res/match.png", weight: 1, name: "match"},
                {src: "res/links.json", weight: 1, name: "links"}
            ], function(r){
                if(100 <= r){
                    new GameController(media);
                    getById("loading").style.display = "none";
                }
                else{
                    // update loading
                }
            }
        );
    /**
     * - Roadmap -
     *  Split tileset
     *> Entities
     *>     Moving
     *      Colliding
     *      Interacting
     *  Move between maps
     *  Rework tileset
     *  Link adjacent tiles
     *  Menuing
     *      Improve saves
     *      Start options
     *      Dialogs
     *      Objectives
     *  Buildings
     *      Inside
     *  Music & sounds
     */
    </script>
    </body>
</html>